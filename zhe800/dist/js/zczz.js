"use strict";function zczz(){var inp1=document.querySelector(".inp1"),inp2=document.querySelector(".inp2"),inp3=document.querySelector(".inp3"),zzsp1=document.querySelector(".zzsp1"),zzsp2=document.querySelector(".zzsp2"),zzsp3=document.querySelector(".zzsp3"),pp2=document.querySelector(".pp2"),btn3=document.querySelector(".btn3"),istrue1=!1,checkReg={trim:function(e){return e.replace(/^\s+|\s+$/g,"")},tel:function(e){return/^1[3-9]\d{9}$/.test(e)},email:function(e){return/^\w+([\-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},idcard:function(e){return/^(\d{17}|\d{14})[\dX]$/.test(e)},psweasy:function(e){return/^[a-zA-Z]\w{5,17}$/.test(e)},pwwagain:function(e,t){return e===t},urladr:function(e){return/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.test(e)},name:function(e){return/^[a-zA-Z][\w\-]{5,11}$/.test(e)},chinese:function(e){return/^[\u2E80-\u9FFF]+$/.test(e)},birthday:function(e){return/^((((19|20)\d{2})-(0?[13-9]|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/.test(e)}};function checkInput(opt){opt.ele.onblur=function(){var val=this.value.trim();if(val){var str="checkReg."+opt.type+"(val)",isok=eval(str);isok?(opt.inf.innerHTML=opt.checkYes,opt.inf.style.color="#58bc58",istrue1=!0):(opt.inf.innerHTML=opt.checkNo,opt.inf.style.color="red",istrue1=!1,opt.ele.focus())}else opt.inf.innerHTML=opt.noval,opt.inf.style.color="red";console.log(istrue1)}}checkInput({ele:inp2,inf:zzsp2,type:"psweasy",noval:"请输入密码",checkYes:"密码通过",checkNo:"请用正确格式输入密码，这都没通过你还想跑？"}),inp3.onblur=function(){istrue1=inp3.value==inp2.value?(zzsp3.innerHTML="密码通过",zzsp3.style.color="green",!0):(zzsp3.innerHTML="密码与之前的不一样",!(zzsp3.style.color="red"))};var ist=!1;inp1.onblur=function(){ajax({type:"post",url:"../api/zhuce1.php",data:{name:inp1.value.trim(),type:"checkname"},success:function(e){console.log(e),ist="yes"==e?(zzsp1.innerHTML="可以注册",zzsp1.style.color="#58bc58",!0):(zzsp1.innerHTML="不可以注册",!(zzsp1.style.color="red"))}})},pp2.onclick=function(){istrue1&&1==btn3.checked&&ist?(ajax({type:"post",url:"../api/zhuce2.php",data:{name:inp1.value.trim(),password:inp2.value.trim(),type:"reg"},success:function(e){console.log(e),"yes"==e?(alert("注册成功"),location.href="../html/denglu.html"+inp1.value.trim()):alert("注册失败")}}),location.href="../html/denglu.html",inp1.value="",inp2.value="",zzsp1.innerHTML="",zzsp2.innerHTML="",btn3.checked=!1):1==istrue1?alert("请同意协议"):0!=istrue1&&1!=btn3.checked||alert("请验证信息是否填充完整")}}